<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Interactive Blocks | Alpha</title>
    <!-- Font -->
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,300;0,500;1,300;1,500&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
    <!-- Code highlighting -->
    <link
      rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/default.min.css"
    />
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
    <script>
      hljs.initHighlightingOnLoad();
    </script>
  </head>
  <body>
    <div class="header-container">
      <div class="header">
        <h2 class="header-title">Interactive Blocks | Alpha</h2>
      </div>
    </div>
    <div class="content-container">
      <h1 class="title">Examples: Interactive Blocks</h1>
      <h3 class="subtitle">
        <span class="bold">Author:</span> Jimmy Lan, &nbsp;
        <span class="bold">Version:</span> Alpha Release
      </h3>
      <hr />

      <div class="warning-container mobile">
        This page is not optimized for small screens.
      </div>

      <div class="info-container">
        <p>On this page:</p>
        <ul>
          <li><a href="#installation">Installation</a></li>
          <li><a href="#getting-started">Getting Started</a></li>
          <li><a href="#retrieving-attributes">Retrieving Attributes</a></li>
          <li><a href="#automatic-rerender">Automatic Rerender</a></li>
          <li><a href="#events">Events</a></li>
          <li><a href="#storage-sync">Storage and Sync</a></li>
        </ul>
      </div>

      <section id="installation">
        <h2 class="title">Installation</h2>
        <h3>Install with Script Tag</h3>
        <pre>
      <code class="html regular"></code>
    </pre>
        <p>or</p>
        <pre>
      <code class="html minified"></code>
    </pre>
        <h3>Install with NPM</h3>
        <p>
          Due to the requirement of this course, I have not published a public
          npm module. Therefore, this installation method is currently not
          available. However, you can install the library using a local copy if
          you have access to the GitHub repo.
        </p>
      </section>

      <section id="getting-started">
        <h2 class="title">Getting Started</h2>
        <p>
          InteractiveBlocks.js is a front-end javascript library allowing
          developers to easily create interactive components anywhere on their
          webpage. By including this library in your codebase, you will have
          access to the <code>Blocks</code> component in your javascript files.
        </p>
        <h3 class="bold">Create Multiple Choice</h3>
        <pre>
          <code class="javascript">
const multipleChoiceDiv = document.getElementById("mc1");

const { MultipleChoice, MultipleChoiceComponent } = Blocks;

const mc = new MultipleChoice({
  id: "1",
  question: "Which of the following files are provided by Interactive Blocks?",
  options: [
    { id: "1", text: "interactive.js" },
    { id: "2", text: "interactive-blocks.js", isAnswer: true },
    { id: "3", text: "interactive-blocks.min.js", isAnswer: true },
    { id: "4", text: "interactive-blocks.js.map", isAnswer: true },
  ],
});

const mcComponent = new MultipleChoiceComponent(multipleChoiceDiv, mc);
mcComponent.render();
          </code>
        </pre>
        <h3>Output</h3>
        <div id="mc1"></div>
        <div class="spacer"></div>
        <p>
          Alternatively, you can create the options list using the helper
          method:
        </p>
        <pre>
          <code class="javascript">
const options = MultipleChoice.parseOptions(
  [
    "interactive.js",
    "interactive-blocks.js",
    "interactive-blocks.min.js",
    "interactive-blocks.js.map",
  ],
  [1, 2, 3]
);
console.log(options);
          </code>
        </pre>
        <h3>Output</h3>
        <pre>
          <code class="javascript">
[
  { id: "1", text: "interactive.js", isAnswer: false },
  { id: "2", text: "interactive-blocks.js", isAnswer: true },
  { id: "3", text: "interactive-blocks.min.js", isAnswer: true },
  { id: "4", text: "interactive-blocks.js.map", isAnswer: true },
]
          </code>
        </pre>
        <p>Here is a brief description on <code>parseOptions</code>:</p>
        <pre>
          <code class="javascript">
/**
  * Return a list of options in the correct format.
  * @param optionTexts A list of texts corresponding to the texts displayed
  *    for multiple choice options.
  * @param answerIndices A list of indices in <optionTexts> that corresponds
  *    to the correct answer.
  */
  static parseOptions = (
    optionTexts: string[],
    answerIndices?: number[]
  ): MultipleChoiceOption[] => {...}
          </code>
        </pre>
        <p>
          As this is an example page, I will not go into details of how to use each function.
          For TAs and professors: to checkout full documentation on this project, please visit
          the GitHub repository.
        </p>

        <h3 class="bold">Create True/False</h3>
        <p>True/False questions are special instances of MultipleChoice questions.</p>
        <pre>
          <code class="javascript">
const trueOrFalseDiv = document.getElementById("tf1");
const tfOptions = MultipleChoice.parseOptions(["True", "False"], [0]);

const tf = new MultipleChoice({
  id: "2",
  question: "Interactive Blocks is a front-end javascript library.",
  options: tfOptions,
});

const tfComponent = new MultipleChoiceComponent(trueOrFalseDiv, tf);
tfComponent.render();
          </code>
        </pre>
        <h3>Output</h3>
        <div id="tf1"></div>
        <div class="spacer"></div>
        <p class="bold">
          Why does the MultipleChoiceComponent render radio buttons here,
          but checkboxes above?
        </p>
        <p>
          <em>Answer:</em> MultipleChoice object allows a property "allowMultipleSelect".
          Here's the object that we passed in to MultipleChoice just a bit ago:
        </p>
        <pre>
          <code class="javascript">
{
  id: "2",
  question: "Interactive Blocks is a front-end javascript library.",
  options: tfOptions,
}
          </code>
        </pre>
        <p>
          Since we did not specify "allowMultipleSelect", the library made a guess
          and set it to false.
        </p>

        <h3 class="bold">Create Fill in the Blanks</h3>
        <p>
          Now we will create a fill in the blanks question.
          But guess what - let's make it more exciting!
        </p>
        <p>
          Did you realize that the two questions above continue to accept answers
          until a correct answer is reached? We can change this behaviour and let
          the question become disabled after one attempt. To do this, we set the prop
          <span class="bold">"disableMultipleAttempts"</span> to false.
        </p>
        <pre>
          <code class="javascript">
const fillInTheBlanksDiv = document.getElementById("fb1");

const { FillBlanks, FillBlanksComponent } = Blocks;

const fb = new FillBlanks({
  id: "3",
  question:
    "What is the ultimate answer to the world, " +
    "the universe, and everything? (Hint: forty two)",
  acceptableAnswers: ["forty two"],
  hintNumChars: true,
  disableMultipleAttempts: true,
});

const fbComponent = new FillBlanksComponent(fillInTheBlanksDiv, fb);
fbComponent.render();
          </code>
        </pre>
        <h3>Output</h3>
        <div id="fb1"></div>
        <div class="spacer"></div>
        <p>
          Did you accidentally answer the question incorrectly and see that it disables itself?
          Of course, the question resets when you refresh the page.</p>
        <p>
          To prevent this behaviour, you can either check answer to questions on your server,
          in which case you can provide <span class="bold">"checkAnswer"</span> callback
          to any question.
        </p>
        <p>
          Your callback will be called everytime when the user attempts to
          answer the question, and you will have user input as a parameter. You can then
          send API requests and do security-checking in this function! Just return a promise
          that will eventually resolve to a boolean value indicating whether the answer
          is correct.
        </p>
        <p>
          I don't have enough space in this example page to demonstrate this feature to you,
          but you can try it out yourself - it's simple!
        </p>
        <p>
          Alternatively, you can save your model to the user's computer. More on this in the
          <span class="bold">"Storage and Sync"</span> section.
        </p>

        <p>
          Now back to the fill in the blanks question, where the fun begins.
          You do not need to hint number of characters in the answer as I do,
          and sure you can create a FillBlanks question this way:
        </p>
        <pre>
          <code class="javascript">
const fillInTheBlanksNoHintDiv = document.getElementById("fb2");

const fb2 = new FillBlanks({
  id: "4",
  question:
    "What is the ultimate answer to the world, " +
    "the universe, and everything? (Hint: forty two)",
  acceptableAnswers: ["forty two", "42"],
});

const fbComponentNoHint = new FillBlanksComponent(
  fillInTheBlanksNoHintDiv,
  fb2
);
fbComponentNoHint.render();
          </code>
        </pre>
        <h3>Output</h3>
        <div id="fb2"></div>
        <div class="spacer"></div>
        <p>
          You can enter either <span class="bold">forty two</span> or <span class="bold">42</span> to
          correctly answer this fill-in-the-blanks question.
        </p>
      </section>

      <section id="retrieving-attributes">
        <h2 class="title">Retrieving Attributes</h2>
      </section>



      <!-- Used to inject html string to this html file -->
      <script src="inject-html-code-snippets.js"></script>
      <!-- Minified library file -->
      <script src="interactive-blocks.min.js"></script>
      <!-- Library usage script -->
      <script src="script.js"></script>
    </div>
  </body>
</html>
